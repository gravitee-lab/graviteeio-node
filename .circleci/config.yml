version: 2.1
parameters:
  gio_action:
    type: enum
    enum: [release, pr_build]
    default: pr_build
orbs:
  # secrethub: secrethub/cli@1.0.0
  gravitee: gravitee-io/gravitee@0.0.1

workflows:
  version: 2.1
  pull_requests:
    jobs:
      # Job defined from the [gravitee-io/gravitee@0.0.1] Circle CI Orb
      - gravitee/pr-build
  release:
    when:
      equal: [ release, << pipeline.parameters.gio_action >> ]
    jobs:
      # Job defined from the [gravitee-io/gravitee@0.0.1] Circle CI Orb
      - gravitee/release:
          dry-run: << pipeline.parameters.dry_run >>
          # maven_version: 3.6.3
